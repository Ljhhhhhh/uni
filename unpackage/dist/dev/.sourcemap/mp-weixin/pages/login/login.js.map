{"version":3,"sources":["webpack:///D:/www/uni/pages/login/login.vue","webpack:///D:/www/uni/pages/login/login.vue?aee6","webpack:///D:/www/uni/main.js","webpack:///D:/www/uni/pages/login/login.vue?99aa","webpack:///D:/www/uni/pages/login/login.vue?6f81","webpack:///D:/www/uni/pages/login/login.vue?23c9"],"names":["_self","onLoad","options","uni","login","success","loginRes","request","url","apiServer","code","method","data","res","openid","autoGetUserInfo","fail","complete","methods","e","console","log","getUserInfo","info","JSON","parse","rawData","nickName","avatarUrl","header","name","face","showToast","title","icon","duration","beforeGetUserinfo","wx","withCredentials","getUserinfo","Page","App"],"mappings":"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","file":"pages/login/login.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  let _self;\nexport default {\n  onLoad(options) {\n    _self = this;\n\n    uni.login({\n      success: function(loginRes) {\n        uni.request({\n        \turl: _self.apiServer +'member&m=codeToSession&code=' + loginRes.code,\n        \tmethod: 'GET',\n        \tdata: {},\n        \tsuccess: res => {\n            _self.openid = res.data.openid;\n            _self.autoGetUserInfo();\n          },\n        \tfail: () => {},\n        \tcomplete: () => {}\n        });\n      }\n    });\n\n  },\n  data() {\n    return {\n      openid: ''\n    };\n  },\n  methods: {\n    autoGetUserInfo(e) {\n      if (e) {\n        console.log('用户信息：', e);\n      }\n      uni.getUserInfo({\n        success: (info) => {\n          const {nickName, avatarUrl} = JSON.parse(info.rawData)\n          uni.request({\n          \turl: _self.apiServer +'member&m=login',\n            header: {'content-type' : \"application/x-www-form-urlencoded\"},\n          \tmethod: 'POST',\n          \tdata: {\n              openid : _self.openid,\n              name   : nickName,\n              face   : avatarUrl,\n            },\n            success:(res) => {\n            \tconsole.log(res);\n            },\n          \tfail: () => {},\n          \tcomplete: () => {}\n          });\n        },\n        fail(e) {\n\n            uni.showToast({\n            \ttitle: '请点击按钮登录',\n              icon: 'none',\n              duration: 2000\n            })\n\n          console.log(e);\n        }\n      });\n    },\n    beforeGetUserinfo() {\n      wx.getUserInfo({\n        withCredentials: true,\n        success: function(res) {\n          console.log(res, 'userinfores');\n        }\n      });\n    },\n    getUserinfo: function(e) {\n      this.autoGetUserInfo(e)\n    },\n  }\n};\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    [\n      _c(\n        \"button\",\n        {\n          staticClass: \"login_btn\",\n          attrs: { \"open-type\": \"getUserInfo\", eventid: \"65c834fc-0\" },\n          on: { getuserinfo: _vm.getUserinfo, tap: _vm.beforeGetUserinfo }\n        },\n        [_vm._v(\"点击登录\")]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/login/login.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=4fc61fd6&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('4fc61fd6', component.options)\n    } else {\n      api.reload('4fc61fd6', component.options)\n    }\n    module.hot.accept(\"./login.vue?vue&type=template&id=4fc61fd6&\", function () {\n      api.rerender('4fc61fd6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"D:/www/uni/pages/login/login.vue\"\nexport default component.exports","import mod from \"-!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","export * from \"-!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./login.vue?vue&type=template&id=4fc61fd6&\""],"sourceRoot":""}